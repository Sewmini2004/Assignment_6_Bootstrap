<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Assignment 6 Bootstrap</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="assests/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Prata&display=swap" rel="stylesheet">
    <link crossorigin="anonymous" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css"
        integrity="sha512-1sCRPdkRXhBV2PBLUdRb4tMg1w2YPf37qatUFeS7zlBy7jJI8Lf4VHwWfZZfpXtYSLy85pkm9GaYVYMfw5BC1A=="
        referrerpolicy="no-referrer" rel="stylesheet" />
    <script src="https://kit.fontawesome.com/cc74b92efe.js" crossorigin="anonymous"></script>
</head>

<body>

    <header>
        <nav class="navbar navbar-expand-lg bg-body-tertiary">
            <div class="container-fluid">
                <a class="navbar-brand text-body-emphasis" href="#">
                    <h1>POS System</h1>
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                    aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" id="linkCustomer" href="#">Customer</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" id="linkOrder" href="#">Orders</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" id="linkItem" href="#">Items</a>
                        </li>




                    </ul>

                    <div class=" d-flex ">
                        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                            <li class="nav-item">
                                <a class="nav-link active" aria-current="page" href="#">Sign Up</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link active" aria-current="page" href="#">Log Out</a>
                            </li>
                        </ul>

                    </div>
                </div>
            </div>

        </nav>

    </header>
    <hr>

    <main>

        <section class="section-customer container">
            <h2><i class="fa-solid fa-people-line"></i> Customer</h2>
            <div>
                <article class="search">
                    <label class="bg-primary" for="searchCustomer">Search Customer</label>
                    <input id="searchCustomer" class="form-control form-control-sm" type="text"
                        placeholder="Input Name/NIC/Tp Here" aria-label=".form-control-sm example">
                    <button type="button" class="btn btn-success">Search</button>
                </article>
                <div class="btnSide">
                    <!-- Button trigger modal -->
                    <button type="button" class="btn btn-warning" data-bs-toggle="modal"
                        data-bs-target="#exampleModal">New
                        Customer
                    </button>
                    <!-- Button trigger modal -->
                    <button type="button" class="btn btn-success" data-bs-toggle="modal"
                        data-bs-target="#exampleModal">View
                        Customers
                    </button>
                </div>
                <!--Model-->
                <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel"
                    aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h1 class="modal-title fs-5 bg-success" id="exampleModalLabel">New Customer</h1>
                                <button type="button" class="btn-close" data-bs-dismiss="modal"
                                    aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <form>
                                    <div class="mb-3">
                                        <label for="exampleInputId" class="form-label">Customer ID :</label>
                                        <input type="text" class="form-control" id="exampleInputId"
                                            placeholder="C00-001">
                                        <p><small id="error" class="text-danger p-1"></small></p>
                                    </div>
                                    <div class="mb-3">
                                        <label for="exampleInputName" class="form-label">Customer Name :</label>
                                        <input type="text" class="form-control" id="exampleInputName"
                                            placeholder="Ramesh">
                                    </div>
                                    <div class="mb-3">
                                        <label for="exampleInputAddress" class="form-label">Customer Address :</label>
                                        <input type="text" class="form-control" id="exampleInputAddress"
                                            placeholder="Panadura">
                                    </div>
                                    <div class="mb-3">
                                        <label for="exampleInputSalary" class="form-label">Customer Salary :</label>
                                        <input type="number" class="form-control" id="exampleInputSalary"
                                            placeholder="250000.00">
                                    </div>

                                </form>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-danger" id="SaveBtnCustomer"
                                    data-bs-dismiss="modal">Save</button>
                                <button type="button" class="btn btn-warning">Renew</button>
                                <button type="button" class="btn btn-primary">Close</button>
                            </div>
                        </div>
                    </div>
                </div>


            </div>
            <div class="butttonList">
                <button type="button" class="btn btn-danger" id="dltBtnCustomer">Delete</button>
                <button type="button" class="btn btn-info">Details</button>
                <button type="button" class="btn btn-success">Clear</button>
            </div>
            <div>

                <table class="table mt-3 bg-body-tertiary ">
                    <thead class="table bg-success">
                        <tr>
                            <th scope="col">#</th>
                            <th scope="col">First</th>
                            <th scope="col">Last</th>
                            <th scope="col">Handle</th>
                        </tr>
                    </thead>
                    <tbody id="customerTable">

                    </tbody>
                </table>

            </div>
        </section>
        <br><br>
        <section class="section-item container">
            <h2><i class="fa-solid fa-boxes-stacked"></i> Items</h2>
            <div>
                <article class="search">
                    <label class="bg-primary" for="searchCustomer">Search Item</label>
                    <input id="searchItem" class="form-control form-control-sm" type="text"
                        placeholder="Input Item Name/Code Here" aria-label=".form-control-sm example">

                    <div class="row">
                        <div class="col-4">
                            <button type="button" class="btn btn-success">Serach</button>
                        </div>
                        <div class=" col-4 col-md-4">

                            <select id="inputState" class="form-select">
                                <option selected>Name</option>
                                <option>...</option>
                            </select>
                        </div>
                    </div>

                </article>

                <div class="btnSide2">
                    <!-- Button trigger modal -->
                    <button type="button" class="btn btn-warning" data-bs-toggle="modal"
                        data-bs-target="#exampleModal1">New
                        Item
                    </button>
                    <!-- Button trigger modal -->
                    <button type="button" class="btn btn-success" data-bs-toggle="modal"
                        data-bs-target="#exampleModal1">
                        View All Item
                    </button>
                </div>

                <!-- Modal -->
                <div class="modal fade" id="exampleModal1" tabindex="-1" aria-labelledby="exampleModalLabel"
                    aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h1 class="modal-title fs-5 bg-success" id="exampleModalLabel1">New Item</h1>
                                <button type="button" class="btn-close" data-bs-dismiss="modal"
                                    aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <form>
                                    <div class="mb-3">
                                        <label for="exampleInputId1" class="form-label">Item Code :</label>
                                        <input type="text" class="form-control" id="exampleInputId1"
                                            placeholder="I00-001">
                                    </div>
                                    <div class="mb-3">
                                        <label for="exampleInputName1" class="form-label">Item Name :</label>
                                        <input type="text" class="form-control" id="exampleInputName1"
                                            placeholder="Book">
                                    </div>
                                    <div class="mb-3">
                                        <label for="exampleInputPrice" class="form-label">Item Price :</label>
                                        <input type="number" class="form-control" id="exampleInputPrice"
                                            placeholder="250.00">
                                    </div>
                                    <div class="mb-3">
                                        <label for="exampleInputQuantity" class="form-label">Item Quantity :</label>
                                        <input type="number" class="form-control" id="exampleInputQuantity"
                                            placeholder="12">
                                    </div>

                                </form>
                            </div>
                            <div class="modal-footer">
                                <button type="button" id="SaveBtnItem" class="btn btn-danger"
                                    data-bs-dismiss="modal">Save</button>
                                <button type="button" class="btn btn-warning">Renew</button>
                                <button type="button" class="btn btn-primary">Close</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="butttonList">
                <button type="button" class="btn btn-success " id="btndltItem">Delete</button>
                <button type="button" class="btn btn-danger">Details</button>
                <button type="button" class="btn btn-info" id="btnClearItem">Clear</button>
            </div>
            <div class="container">

                <table class="table mt-3 bg-body-tertiary">
                    <thead class="bg-success">
                        <tr>
                            <th scope="col">#</th>
                            <th scope="col">First</th>
                            <th scope="col">Last</th>
                            <th scope="col">Handle</th>
                        </tr>
                    </thead>
                    <tbody id="itemTable">

                    </tbody>
                </table>

            </div>
        </section>
        <br><br>


        <!-- ---------------------------------------------------->
        <section class="section-placeOrder container">
            <div class="row">
                <div class="col-4">
                    <main class="container-fluid">
                        <article class="inVoceDetails">
                            <label class=" label_Head bg-success" for="exampleInputId">InVoice Details</label>
                            <form>
                                <div class="row mt-5">
                                    <div class="mb-3 col-5">
                                        <label for="exampleInputId" class="form-label">Order Id :</label>
                                        <input type="text" class="form-control" id="exampleInputId2"
                                            placeholder="ORD-01">
                                    </div>
                                    <div class="mb-3 col-5">
                                        <label for="exampleInputDate" class="form-label">Date :</label>
                                        <input type="date" class="form-control" id="exampleInputDate">
                                    </div>
                                </div>


                                <div class="mb-3 row">
                                    <div class="col-5">
                                        <label for="inputCustomer" class="form-label">Customer :</label>
                                        <select id="inputCustomer" class="form-select">
                                            <option selected></option>
                                            <option>..</option>
                                        </select>
                                    </div>

                                    <div class="mb-3 col-5">
                                        <label for="exampleInputCustomerId" class="form-label">Customer Id :</label>
                                        <input type="text" class="form-control" id="exampleInputCustomerId">
                                    </div>
                                </div>


                                <div class="row">
                                    <div class="mb-3 col-5">
                                        <label for="exampleInputName" class="form-label">Name :</label>
                                        <input type="text" class="form-control" id="exampleInputName2">
                                    </div>
                                    <div class="mb-3 col-5">
                                        <label for="exampleInputSalary" class="form-label">Salary :</label>
                                        <input type="number" class="form-control" id="exampleInputSalary2">
                                    </div>
                                </div>


                                <div class="mb-3 col-10">
                                    <label for="exampleInputAddress" class="form-label">Address :</label>
                                    <input type="text" class="form-control" id="exampleInputAddress2">
                                </div>


                            </form>
                        </article>
                    </main>

                </div>
                <!---------------------------------------------------------------------------------------------- ?-->
                <div class="col-4">
                    <main class="container-fluid">

                        <article class="inVoceDetails">
                            <label class=" label_Head bg-success" for="exampleInputId">Item Select</label>
                            <form>
                                <div class="row mt-5">
                                    <div class="col-6">
                                        <label for="inputItem" class="form-label">Item :</label>
                                        <select id="inputItem" class="form-select">
                                            <option selected></option>
                                            <option>...</option>
                                        </select>
                                    </div>

                                    <div class="mb-3 col-6">
                                        <label for="exampleInputItemCode" class="form-label">Item Code :</label>
                                        <input type="text" class="form-control" id="exampleInputItemCode">
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="mb-3 col-4">
                                        <label for="exampleInputName" class="form-label">Item Name :</label>
                                        <input type="text" class="form-control" id="exampleInputName3">
                                    </div>
                                    <div class="mb-3 col-4">
                                        <label for="exampleInputSalary" class="form-label">Price :</label>
                                        <input type="number" class="form-control" id="exampleInputSalary3">
                                    </div>
                                    <div class="mb-3 col-4">
                                        <label for="exampleInputQtyOnHand" class="form-label">qtyOnHand :</label>
                                        <input type="number" class="form-control" id="exampleInputQtyOnHand">
                                    </div>
                                </div>

                                <div class="mb-3 col-12">
                                    <label for="exampleInputQtyOrder" class="form-label">Order Quantity :</label>
                                    <input type="number" class="form-control" id="exampleInputQtyOrder">
                                </div>


                                <button type="submit" class="btn btn-danger" id="btnAddItem">Add Item</button>
                            </form>

                        </article>
                    </main>
                </div>
                <!-- ------------------------------------------------------------>
                <div class="col-4">
                    <main class="container-fluid">

                        <article class="inVoceDetails">

                            <form>
                                <h2 class="total " id="total-val">Total :</h2>
                                <h2 class="total" id="subtotal-val">SubTotal :</h2>
                                <div class="row">
                                    <div class="mb-3 col-4 mt-5 ">
                                        <label for="exampleInputName" class="form-label">Cash :</label>
                                        <input type="number" class="form-control" id="exampleInputCash">
                                    </div>
                                    <div class="mb-3 col-4 mt-5">
                                        <label for="exampleInputSalary" class="form-label">Discount :</label>
                                        <input type="number" class="form-control" id="exampleInputDiscount">
                                    </div>

                                </div>

                                <div class="mb-3 col-12">
                                    <label for="exampleInputQtyOrder" class="form-label">Balance :</label>
                                    <input type="number" class="form-control" id="exampleInputBalance">
                                </div>

                                <button type="submit" class="btn btn-success" id="btnPurchase">Purchase</button>
                            </form>

                        </article>


                    </main>

                </div>

                <!-------------------------------------------------------------------------------->


                <div class="container">

                    <table class="table mt-3 bg-body-tertiary" id="tblPurchaseItem">
                        <thead class="bg-success">
                            <tr>
                                <th scope="col">#</th>
                                <th scope="col">First</th>
                                <th scope="col">Last</th>
                                <th scope="col">Handle</th>
                                <th scope="col">Handle</th>
                            </tr>
                        </thead>
                        <tbody>

                        </tbody>
                    </table>

                </div>

            </div>
        </section>
    </main>


    <!--=============================================================-->

    <script src="assests/jQuary/jquery-3.6.4.min.js"></script>
    <script src="assests/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <script src="controller/Item.js"></script>

    <script>
        $(".section-customer").css('display', 'block');
        $(".section-item").css('display', 'none');
        $(".section-placeOrder").css('display', 'none');

        $("#linkCustomer").click(function () {

            $(".section-customer").css('display', 'block');
            $(".section-item").css('display', 'none');
            $(".section-placeOrder").css('display', 'none');

        });

        $("#linkItem").click(function () {

            $(".section-customer").css('display', 'none');
            $(".section-item").css('display', 'block');
            $(".section-placeOrder").css('display', 'none');

        });


        $("#linkOrder").click(function () {

            $(".section-customer").css('display', 'none');
            $(".section-item").css('display', 'none');
            $(".section-placeOrder").css('display', 'block');

        });
    /*
            $(".section-customer").css('display','block');
            $(".section-item").css('display','none');
            $(".section-placeOrder").css('display','none');
    
            $("#linkCustomer").click(function () {
    
                $(".section-customer").css('display','block');
                $(".section-item").css('display','none');
                $(".section-placeOrder").css('display','none');
    
            });
    
            $("#linkItem").click(function () {
    
                $(".section-customer").css('display','none');
                $(".section-item").css('display','block');
                $(".section-placeOrder").css('display','none');
    
            });
    
    
            $("#linkOrder").click(function () {
    
                $(".section-customer").css('display','none');
                $(".section-item").css('display','none');
                $(".section-placeOrder").css('display','block');
    
            });
    
    
            /!*  Save btn Customer *!/
    
            $("#SaveBtnCustomer").click(function () {
    
                /!* remove all the row click event *!/
              $("#customerTable>tr").off("click");
    
    
                // gather customer information
                let customerId = $("#exampleInputId").val();
                let customerName = $("#exampleInputName").val();
                let customerAddress = $("#exampleInputAddress").val();
                let customerSalary = $("#exampleInputSalary").val();
    
                /!* Create a html row *!/
                let row=`<tr><td>${customerId}</td><td>${customerName}</td><td>${customerAddress}</td><td>${customerSalary}</td></tr>`;
    
                /!* Select the table body and append the row *!/
                $("#customerTable").append(row);
    
    
                /!* bind the event after the row was added *!/
    
                $("#customerTable>tr").click(function(){
                   // console.log(this);    //dom Object
                   // console.log($(this));    // jQuery
                    //$(this);  // tr
                    //$(this).children(); // return all td inside selected row
    
                    /!* Awsaya row eke athule tina tika allgnn thma traversing oni unee *!/
    
                    let cusId = $(this).children(":eq(0)").text(); // select the first td and get text
                    let cusName = $(this).children(":eq(1)").text();
                    let cusAddress = $(this).children(":eq(2)").text();
                    let cusTp = $(this).children(":eq(3)").text();
    
                    console.log(cusId,cusName,cusAddress,cusTp);
    
                    //set values for the input fields
                    $("#exampleInputId").val(cusId);
                     $("#exampleInputName").val(cusName);
                     $("#exampleInputAddress").val(cusAddress);
                    $("#exampleInputSalary").val(cusTp);
    
    
                });
    
                /!* remove selected row from the double click *!/
    
                $("#customerTable>tr").dblclick(function () {
                    $(this).remove();
                })
    
    
            });
    
    
    
            //phalat line eken line ekata focus krno
    
            $("#exampleInputId").keydown(function (event) {
                console.log(event.key)
                if (event.key=="Enter"){
                    $("#exampleInputName").focus();
                }
            });
    
            $("#exampleInputName").keydown(function (event) {
                console.log(event.key)
                if (event.key=="Enter"){
                    $("#exampleInputAddress").focus();
                }
            });
    
    
            $("#exampleInputAddress").keydown(function (event) {
                console.log(event.key)
                if (event.key=="Enter"){
                    $("#exampleInputSalary").focus();
                }
            });
    
    
    
            var regExCusId=/^(C00)[0-9]{3,4}$/;
    
            $("#exampleInputId").keyup(function () {
            let input= $("#exampleInputId").val();
            if (regExCusId.test(input)){
                $("#exampleInputId").css('border','2px solid green');
                $("#error").text("");
    
            }else {
                $("#exampleInputId").css('border','2px solid red');
                $("#error").text("Wrong format: C00-001");
    
    
            }
        });*/



    //Js Data Types  5  tiyenne

    //Primitive Type
        /* String ===
         Number ===
         Boolean ==
         Undefined ==
         Null
         BigInt
         Symbol*/

    //Structural Types
        /*    Object
            Functions*/


    //Structural Root Types
        /*   null ====
       */

        /* String */
        /*  var string1='Sewmini';
          var string2="Sewmini";
          console.log(string1);
          console.log(string2);
      
          console.log(string1+string2);
          console.log(1+string2);
      
          var age=30;
          console.log(`My age is ${age} year old`);*/


        /* item ================================================ */

        /*  Save btn Item */
        /*
        
            $("#SaveBtnItem").click(function () {
        
                /!* remove all the row click event *!/
                $("#itemTable>tr").off("click");
        
        
                // gather item information
                let itemCode = $("#exampleInputId1").val();
                let itemName = $("#exampleInputName1").val();
                let itemPrice = $("#exampleInputPrice").val();
                let itemQty = $("#exampleInputQuantity").val();
        
                /!* Create a html row *!/
                let row=`<tr><td>${itemCode}</td><td>${itemName}</td><td>${itemPrice}</td><td>${itemQty}</td></tr>`;
        
                /!* Select the table body and append the row *!/
                $("#itemTable").append(row);
        
        
                /!* bind the event after the row was added *!/
        
                $("#itemTable>tr").click(function(){
                    // console.log(this);    //dom Object
                    // console.log($(this));    // jQuery
                    //$(this);  // tr
                    //$(this).children(); // return all td inside selected row
        
                    /!* Awsaya row eke athule tina tika allgnn thma traversing oni unee *!/
        
                    let itemCode1 = $(this).children(":eq(0)").text(); // select the first td and get text
                    let itemName1 = $(this).children(":eq(1)").text();
                    let itemPrice1 = $(this).children(":eq(2)").text();
                    let itemQty1= $(this).children(":eq(3)").text();
        
                    console.log(itemCode1,itemName1,itemPrice1,itemQty1);
        
                    //set values for the input fields
                    $("#exampleInputId").val(cusId);
                    $("#exampleInputName").val(cusName);
                    $("#exampleInputAddress").val(cusAddress);
                    $("#exampleInputSalary").val(cusTp);
        
        
                });
        
                /!* remove selected row from the double click *!/
        
                $("#itemTable>tr").dblclick(function () {
                    $(this).remove();
                })
        
        
            });
        
        
        
            //phalat line eken line ekata focus krno
        
            $("#exampleInputId1").keydown(function (event) {
                console.log(event.key)
                if (event.key=="Enter"){
                    $("#exampleInputName1").focus();
                }
            });
        
            $("#exampleInputName1").keydown(function (event) {
                console.log(event.key)
                if (event.key=="Enter"){
                    $("#exampleInputPrice").focus();
                }
            });
        
        
            $("#exampleInputPrice").keydown(function (event) {
                console.log(event.key)
                if (event.key=="Enter"){
                    $("#exampleInputQuantity").focus();
                }
            });
        
        
        
            var regExCusId=/^(I00)[0-9]{3,4}$/;
        
            $("#exampleInputId1").keyup(function () {
                let input= $("#exampleInputId1").val();
                if (regExCusId.test(input)){
                    $("#exampleInputId1").css('border','2px solid green');
                    $("#error").text("");
        
                }else {
                    $("#exampleInputId1").css('border','2px solid red');
                    $("#error").text("Wrong format: I00-001");
        
        
                }
            });
        */


    </script>
    <script src="controller/customer.js"></script>
    <script src="controller/Item.js"></script>
    <script src="controller/placeOrderController.js"></script>
</body>

</html>
